!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var r={},n={},o={},t={}.hasOwnProperty,a=/^\.\.?(\/|$)/,i=function(e,r){for(var n,o=[],t=(a.test(r)?e+"/"+r:r).split("/"),i=0,s=t.length;i<s;i++)n=t[i],".."===n?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},c=function(r){return function(n){var o=i(s(r),n);return e.require(o,r)}},u=function(e,r){var o=g&&g.createHot(e),t={id:e,exports:{},hot:o};return n[e]=t,r(t.exports,c(e),t),t.exports},d=function(e){return o[e]?d(o[e]):e},l=function(e,r){return d(i(s(e),r))},f=function(e,o){null==o&&(o="/");var a=d(e);if(t.call(n,a))return n[a].exports;if(t.call(r,a))return u(a,r[a]);throw new Error("Cannot find module '"+e+"' from '"+o+"'")};f.alias=function(e,r){o[r]=e};var p=/\.[^.\/]+$/,m=/\/index(\.[^\/]+)?$/,y=function(e){if(p.test(e)){var r=e.replace(p,"");t.call(o,r)&&o[r].replace(p,"")!==r+"/index"||(o[r]=e)}if(m.test(e)){var n=e.replace(m,"");t.call(o,n)||(o[n]=e)}};f.register=f.define=function(e,o){if(e&&"object"==typeof e)for(var a in e)t.call(e,a)&&f.register(a,e[a]);else r[e]=o,delete n[e],y(e)},f.list=function(){var e=[];for(var n in r)t.call(r,n)&&e.push(n);return e};var g=e._hmr&&new e._hmr(l,f,r,n);f._cache=n,f.hmr=g&&g.wrap,f.brunch=!0,e.require=f}}(),function(){"undefined"==typeof window?this:window;require.register("initialize.js",function(e,r,n){"use strict";document.addEventListener("DOMContentLoaded",function(){console.log("Initialized app");var e=r("./js/config.js"),n=r("./js/stageUI.js")(e),o=r("./js/mainGame.js")(e,n);o.init(),o.cycle(),console.log("Main is:",o),window._main=o})}),require.register("js/config.js",function(e,r,n){"use strict";var o=200,t=200,a=2,i="black",s=2*a,c=24,u=o/4,d=12,l={domID:"gameContainer",gameWidth:o+s,gameHeight:t+c,style:{lineWidth:a,strokeStyle:i},frameCoords:[a,20,o-s,t-c],scoreBoard:{style:"14px Arial",xPos:u,yPos:d},snakeObj:{defaultSize:3},snakeDirections:{"default":0,right:0,left:1,down:2,up:3},renderer:{yOffset:20,xOffset:3,yBoundry:185,xBoundry:187,blockSize:10,foodColor:"red",snakeColor:"green",gameOverStyle:"16px Arial",finalScoreStyle:"20px sans-serif"}};l.gameMap={rows:t/10,columns:o/10,legend:{empty:0,food:1,snakeHead:2,snakeBody:3},states:{gamePlay:0,gameOver:1},foodPosition:-1},l.custom={hackable:!0},n.exports=l}),require.register("js/mainGame.js",function(e,r,n){"use strict";n.exports=function(e,n){var o=(r("./utilities/userHack.js")(e),r("./utilities/snakeObj.js")(e)),t=r("./utilities/gameMap.js")(e),a=r("./render.js")(n,e),i=r("./utilities/gameInput.js")(),s=r("./utilities/referee.js");s.init(e).addParticipant(o).addParticipant(t);var c=function(e){o.randomizePosition(),t.cleanMap().generateFood().processSnake(o),a.clean().drawBorders().drawScore(s).drawMap(t),"function"==typeof e&&e(o,t)},u=function(){requestAnimationFrame(d);var e=i.getLastValidInput();o.setDirection(e).move(),t.cleanMap().processFood().processSnake(o).foodCollision(o,s),a.clean().drawBorders().drawScore(s).drawMap(t),"function"==typeof call&&call(o,t)},d=function(){var e=1e3,r=5;return setTimeout(u,e/r)};return{snake:o,map:t,renderer:a,init:c,cycle:u}}}),require.register("js/render.js",function(e,r,n){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}var t={};t.init=function(e,r){return t.ctx=e,t.config=r,t},t.clean=function(){return t.ctx.clearRect(0,0,t.config.gameWidth,t.config.gameHeight),t},t.drawBorders=function(){var e;return(e=t.ctx).strokeRect.apply(e,o(t.config.frameCoords)),t},t.drawScore=function(e){var r=e.score,n=e.level,o="Score: "+r+" ~ Level: "+n;return t.ctx.fillText(o,t.config.scoreBoard.xPos,t.config.scoreBoard.yPos),t},t.drawMap=function(e){return e.map.map(function(r,n){r.map(function(r,o){var a,i=e.map[n][o];if(0!==i){var s=t.config.renderer.blockSize,c=Math.min(n*s+t.config.renderer.yOffset,t.config.renderer.yBoundry),u=Math.min(o*s+t.config.renderer.xOffset,t.config.renderer.xBoundry),d=[u,c,s,s],l=t.config.renderer.snakeColor;i===e.legend.food&&(l=t.config.renderer.foodColor),t.ctx.fillStyle=l,(a=t.ctx).fillRect.apply(a,d)}})}),t},t.drawGameOver=function(e){var r,n;t.ctx.fillStyle="black",t.ctx.font=t.config.renderer.gameOverStyle;var o=["Game Over!",t.config.gameWdith/2-t.ctx.measureText("Game Over!").width/2,50];(r=t.ctx).fillText.apply(r,o),t.ctx.font=t.config.renderer.finalScoreStyle;var a=["Your Score Was "+e,t.config.gameWidth/2-t.ctx.measureText("Your Score Was").width/2,70];return(n=t.ctx).fillText.apply(n,a),console.log("Score has been drawn!!"),t},n.exports=function(e,r){return t.init(e,r)}}),require.register("js/stageUI.js",function(e,r,n){"use strict";n.exports=function(e){var r=document.createElement("div"),n=document.createElement("canvas"),o=n.getContext("2d");return n.setAttribute("width",e.gameWidth),n.setAttribute("height",e.gameHeight),n.setAttribute("id",e.domID),r.appendChild(n),document.body.appendChild(r),o}}),require.register("js/utilities/gameInput.js",function(e,r,n){"use strict";var o=r("./jsKeyCodes/keyCodes.js")("up arrow"),t=r("./jsKeyCodes/keyCodes.js")("down arrow"),a=r("./jsKeyCodes/keyCodes.js")("left arrow"),i=r("./jsKeyCodes/keyCodes.js")("right arrow"),s=r("./jsKeyCodes/keyboard.js")(o),c=r("./jsKeyCodes/keyboard.js")(t),u=r("./jsKeyCodes/keyboard.js")(a),d=r("./jsKeyCodes/keyboard.js")(i),l={};l.currentInput=-1,l.inputs={up:{button:s,numbercode:8},down:{button:c,numbercode:2},left:{button:u,numbercode:4},right:{button:d,numbercode:6}},l.assignInputCommands=function(e){var r=Object.keys(l.inputs);r.forEach(function(e){l.inputs[e].button.press=function(){l.currentInput=l.inputs[e].numbercode}})},l.getLastValidInput=function(){return l.currentInput},l.init=function(e){return Array.isArray(e),l.assignInputCommands(),l},n.exports=l.init}),require.register("js/utilities/gameMap.js",function(e,r,n){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={};a.init=function(e){return a.map=[].concat(o(Array(e.gameMap.columns).keys())),a.map=a.map.map(function(r){return[].concat(o(Array(e.gameMap.rows).keys()))}),a.legend=e.gameMap.legend,a.foodPosition=e.gameMap.foodPosition,a.states=e.gameMap.states,a.currentState=a.states.gamePlay,a.config=e,a},a.generateFood=function(){var e=a.config.gameMap.columns,r=a.config.gameMap.rows,n=Math.round(Math.random()*e-1),o=Math.round(Math.random()*r-1);for(n=Math.max(0,n),o=Math.max(0,o);a.map[o][n]!==a.legend.empty;)n=Math.round(Math.random()*e-1),o=Math.round(Math.random()*r-1),n=n<0?0:n,o=o<0?0:o,console.log("Food search on coord:",n,o);return a.map[o][n]=a.legend.food,a.foodPosition=[n,o],a},a.processFood=function(){var e=a.foodPosition[1],r=a.foodPosition[0];return a.map[e][r]=a.legend.food,a},a.printMatrix=function(){for(var e=0,r="";e<a.config.gameMap.rows;){for(var n=0;n<a.map.length;n++)r+=a.map[n][e].toString();r+="\n",e++}return console.clear(),console.log("~~~~~printing matrix~~~~~"),console.log(r),a},a.processSnake=function(e){return e.body.forEach(function(r,n){var o=0===n;if(o){var t=e.directionStates;switch(r.direction){case t.right:r.dx=1,r.dy=0;break;case t.left:r.dx=-1,r.dy=0;break;case t.up:r.dx=0,r.dy=-1;break;case t.down:r.dx=0,r.dy=1}var i=r.y+r.dy,s=r.x+r.dx,c=r.x<0||s>20||r.y<0||i>18;c&&(console.log("Game over!"),a.currentState=a.states.gameOver)}a.currentState===a.states.gamePlay&&(a.map[r.y][r.x]=a.legend.snakeHead)}),a},a.foodCollision=function(e,r){if(a.currentState===a.states.gamePlay){var n=e.body[0],o=a.foodPosition[1],i=a.foodPosition[0];if(a.map[n.y][n.x]===a.map[o][i]){a.map[o][i]=a.legend.empty,a.generateFood(),e.appendNode();var s="undefined"!=typeof r&&null!==r&&"object"===("undefined"==typeof r?"undefined":t(r));s&&r.setScore(1)}}return a},a.cleanMap=function(){return a.map=a.map.map(function(e){return e.map(function(e){return a.legend.empty})}),a},n.exports=function(e){return a.init(e)}}),require.register("js/utilities/jsKeyCodes/keyCodes.js",function(e,r,n){"use strict";n.exports=function(e){var r={0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57","That key has no keycode":"0","break":"3","backspace / delete":"8",tab:"9",clear:"12",enter:"13",shift:"16",ctrl:"17",alt:"18","pause/break":"19","caps lock":"20",hangul:"21",hanja:"25",escape:"27",conversion:"28","non-conversion":"235",spacebar:"32","page up":"33","page down":"34",end:"35",home:"36","left arrow":"37","up arrow":"38","right arrow":"39","down arrow":"40",select:"41",print:"42",execute:"43","Print Screen":"44",insert:"45","delete":"46",help:"47",":":"58","semicolon (firefox), equals":"59","<":"60","equals (firefox)":"61","ß":"63","@ (firefox)":"64",a:"65",b:"66",c:"67",d:"68",e:"69",f:"70",g:"71",h:"72",i:"73",j:"74",k:"75",l:"76",m:"77",n:"78",o:"79",p:"80",q:"81",r:"82",s:"83",t:"84",u:"85",v:"86",w:"87",x:"88",y:"89",z:"90","Windows Key / Left ⌘ / Chromebook Search key":"91","right window key":"92","Windows Menu / Right ⌘":"93",sleep:"95","numpad 0":"96","numpad 1":"97","numpad 2":"98","numpad 3":"99","numpad 4":"100","numpad 5":"101","numpad 6":"102","numpad 7":"103","numpad 8":"104","numpad 9":"105",multiply:"106",add:"107","numpad period (firefox)":"108",subtract:"109","decimal point":"110",divide:"111",f1:"112",f2:"113",f3:"114",f4:"115",f5:"116",f6:"117",f7:"118",f8:"119",f9:"120",f10:"121",f11:"122",f12:"123",f13:"124",f14:"125",f15:"126",f16:"127",f17:"128",f18:"129",f19:"130",f20:"131",f21:"132",f22:"133",f23:"134",f24:"135","num lock":"144","scroll lock":"145","^":"160","!":"161","؛ (arabic semicolon)":"162","#":"163",$:"164","ù":"165","page backward":"166","page forward":"167",refresh:"168","closing paren (AZERTY)":"169","*":"170","~ + * key":"171","home key":"172","minus (firefox), mute/unmute":"173","decrease volume level":"174","increase volume level":"175",next:"176",previous:"177",stop:"178","play/pause":"179","e-mail":"180","mute/unmute (firefox)":"181","decrease volume level (firefox)":"182","increase volume level (firefox)":"183","semi-colon / ñ":"186","equal sign":"187",comma:"188",dash:"189",period:"190","forward slash / ç":"191","grave accent / ñ / æ / ö":"192","?, / or °":"193","numpad period (chrome)":"194","open bracket":"219","back slash":"220","close bracket / å":"221","single quote / ø / ä":"222","`":"223","left or right ⌘ key (firefox)":"224",altgr:"225","< /git >, left back slash":"226","GNOME Compose Key":"230","ç":"231",XF86Forward:"233",XF86Back:"234",alphanumeric:"240","hiragana/katakana":"242","half-width/full-width":"243",kanji:"244","unlock trackpad (Chrome/Edge)":"251","toggle touchpad":"255"};return Number(r[e])}}),require.register("js/utilities/jsKeyCodes/keyboard.js",function(e,r,n){"use strict";n.exports=function(e){var r={};return r.code=e,r.isDown=!1,r.isUp=!0,r.press=void 0,r.release=void 0,r.downHandler=function(e){e.keyCode===r.code&&(r.isUp&&r.press&&r.press(),r.isDown=!0,r.isUp=!1),e.preventDefault()},r.upHandler=function(e){e.keyCode===r.code&&(r.isDown&&r.release&&r.release(),r.isDown=!1,r.isUp=!0),e.preventDefault()},window.addEventListener("keydown",r.downHandler.bind(r),!1),window.addEventListener("keyup",r.upHandler.bind(r),!1),r}}),require.register("js/utilities/referee.js",function(e,r,n){"use strict";var o={};o.rules={gamePlay:0,gameOver:1},o.participants=[],o.init=function(e){return o.score=0,o.level=1,e.custom.hackable===!0&&(o.level=e.custom.level||1),o},o.setScore=function(e){return o.score+=e*o.level,o.score<0&&(o.score=0),o},o.onGameOver=function(e){e(),window.location.relaod()},o.checkGameOver=function(e){var r=!1;return participants.forEach(function(e){e.currentState===o.rules.gameOver&&(r=!0)}),r&&(console.log("Game is over!"),o.onGameOver(e)),r},o.addParticipant=function(e){return o.participants.push(e),o},n.exports=o}),require.register("js/utilities/snakeObj.js",function(e,r,n){"use strict";function o(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}var t={};t.init=function(e){return t.headPosition=[0,0],t.size=e.snakeObj.defaultSize,t.body=[].concat(o(Array(t.size).keys())),t.config=e,t.dx=0,t.dy=0,t.direction=5,t.directionStates={up:8,down:2,left:4,right:6,neutral:5},t.body=t.body.map(function(e,r){var n="undefined"==typeof e.x?0:e.x,o="undefined"==typeof e.y?0:e.y,t={x:n,y:o},a=0===r;return a&&(t.direction=0,t.dx=0,t.dy=0),t}),t},t.randomizePosition=function(){var e=t.config.gameMap.columns,r=t.config.gameMap.rows,n=Math.round(Math.random()*e-1),o=Math.round(Math.random()*r-1);for(n=n<0?0:n,o=o<0?0:o;n-t.size<0;)n=Math.round(Math.random()*e-1),n=n<0?0:n;return t.body=t.body.map(function(e,r){return e.x=n-r,e.y=o,console.log(e),e}),t.headPosition=[n,o],[n,o]},t.move=function(e){var r=t.body[0],n={x:r.x,y:r.y};return r.x+=r.dx,r.y+=r.dy,t.body=t.body.map(function(e,r){var o=0!==r;if(o){var t={x:e.x,y:e.y};e.x=n.x,e.y=n.y,n=t}return e}),t},t.setDirection=function(e,r){var n=t.directionStates;switch(e){case n.up:t.direction!==n.down&&(t.body[0].dx=0,t.body[0].dy=-1,t.direction=e);break;case n.down:t.direction!==n.up&&(t.body[0].dx=0,t.body[0].dy=1,t.direction=e);break;case n.left:t.direction!==n.right&&(t.body[0].dx=-1,t.body[0].dy=0,t.direction=e);break;case n.right:t.direction!==n.left&&(t.body[0].dx=1,t.body[0].dy=0,t.direction=e);break;case-1:case n.netural:t.setDirection(t.direction)}return t},t.appendNode=function(){var e=t.body.length;return t.body.push({x:t.body[e-1].x,y:t.body[e-1].y}),console.log("body exteneded!!"),t},n.exports=function(e){return t.init(e)}}),require.register("js/utilities/userHack.js",function(e,r,n){"use strict";n.exports=function(e){var r=new URLSearchParams(window.location.search),n=Number(r.get("level"))||null,o=r.get("snakeColor")||null,t=r.get("foodColor");e.custom.hackable===!0&&(e.custom.level=n,e.custom.snakeColor=o,e.custom.foodColor=t,null!==o&&(e.renderer.snakeColor=o),null!==t&&(e.renderer.foodColor=t))}}),require.register("___globals___",function(e,r,n){})}(),require("___globals___");